"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[781],{781:(e,s,a)=>{a.r(s),a.d(s,{default:()=>S});a(43);var t=a(881),r=a(3);const n="Messages_dialogs__hIS3b",i="Messages_dialogsItems__ttuLo",g="Messages_active__WuTjs",m="Messages_dialog__tgrSR",l="Messages_messages__VAR0S",d="Messages_message__ftMhL",c="Messages_textarea__sY7J6",o="Messages_error__nW-m-",x="Messages_errorTextarea__kPf-+";var h=a(216),_=a(475),u=a(579);const j=e=>{let s="/messages/"+e.id;return(0,u.jsxs)("div",{className:m+" "+g,children:[(0,u.jsx)("img",{src:e.img}),(0,u.jsx)(_.k2,{to:s,children:e.name})]})},M=e=>(0,u.jsxs)("div",{className:d,children:[(0,u.jsx)("img",{src:e.img}),e.message]});var p=a(892),v=a(899);const b=v.Ik().shape({newMessageText:v.Yj().min(2,"Must be longer than 2 characters").max(100,"Must be shorter than 100 characters").required("Required")}),w=e=>(0,u.jsx)(p.l1,{initialValues:{newMessageText:""},onSubmit:(s,a)=>{let{resetForm:t}=a;e.onSubmit(s),t()},validationSchema:b,children:e=>{let{errors:s,touched:a}=e;return(0,u.jsxs)(p.lV,{children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(p.D0,{name:"newMessageText",component:"textarea",placeholder:"Enter text",className:`${c} ${s.newMessageText&&a.newMessageText?x:""}`}),(0,u.jsx)(p.Kw,{name:"newMessageText",component:"div",className:o})]}),(0,u.jsx)("button",{type:"submit",children:"Send"})]})}}),N=e=>{let s=e.messagesPage.dialogsData.map((e=>(0,u.jsx)(j,{name:e.name,id:e.id,img:e.img},e.id))),a=e.messagesPage.messagesData.map((e=>(0,u.jsx)(M,{message:e.message,img:e.img},e.id)));return e.isAuth?(0,u.jsxs)("div",{className:n,children:[(0,u.jsx)("div",{className:i,children:s}),(0,u.jsxs)("div",{className:l,children:[a,(0,u.jsx)(w,{onSubmit:s=>{e.sendMessage(s.newMessageText)}})]})]}):(0,u.jsx)(h.C5,{to:"/login"})};var T=a(207);const S=(0,a(923).Zz)((0,r.Ng)((e=>({messagesPage:e.messagesPage})),(e=>({sendMessage:s=>{e((0,t.g)(s))}}))),T.A)(N)},207:(e,s,a)=>{a.d(s,{A:()=>m});var t=a(43),r=a(3),n=a(216),i=a(579);let g=e=>({isAuth:e.auth.isAuth});const m=e=>{class s extends t.Component{render(){return this.props.isAuth?(0,i.jsx)(e,{...this.props}):(0,i.jsx)(n.C5,{to:"/login"})}}return(0,r.Ng)(g)(s)}}}]);
//# sourceMappingURL=781.a77b1a35.chunk.js.map