"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[36],{36:(t,s,e)=>{e.r(s),e.d(s,{default:()=>q});var a=e(43);const o="ProfileInfo_descriptionBlock__PtLF9",r="ProfileInfo_myContacts__4vNnv",i="ProfileInfo_aboutMe__Qb9CA",n="ProfileInfo_aboutMeHead__rxpbu",c="ProfileInfo_fullName__6OJ0y",l="ProfileInfo_unLoginImg__q3Gwe";var u=e(242),d=e(475),h=e(772),p=e(579);const x=t=>{let[s,e]=(0,a.useState)(!1),[o,r]=(0,a.useState)(t.status);(0,a.useEffect)((()=>{r(t.status)}),[t.status]);return(0,p.jsxs)("div",{children:[!s&&(0,p.jsx)("div",{children:(0,p.jsx)("span",{onDoubleClick:()=>{e(!0)},children:t.status||"Status"})}),s&&(0,p.jsx)("div",{children:(0,p.jsx)("input",{autoFocus:!0,onBlur:()=>{e(!1),t.updateStatus(o)},onChange:t=>{r(t.currentTarget.value)},value:o})})]})},m=t=>{let{profile:s,status:e,updateStatus:a}=t;return s?(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{children:(0,p.jsx)("img",{src:"https://c4.wallpaperflare.com/wallpaper/842/306/567/cool-pictures-of-mountains-1920x1080-wallpaper-preview.jpg",alt:""})}),(0,p.jsxs)("div",{className:o,children:[s.photos.large?(0,p.jsx)("img",{alt:"",src:s.photos.large}):(0,p.jsx)("img",{className:l,alt:"",src:h}),(0,p.jsx)("div",{className:c,children:s.fullName}),s.aboutMe&&(0,p.jsxs)("div",{className:i,children:[(0,p.jsx)("div",{className:n,children:"About Me"}),s.aboutMe]}),(0,p.jsx)("div",{className:r,children:Object.values(s.contacts).some((t=>t))&&(0,p.jsxs)(p.Fragment,{children:["My Contacts",s.contacts.facebook&&(0,p.jsx)(d.k2,{to:s.contacts.facebook,children:"facebook"}),s.contacts.website&&(0,p.jsx)(d.k2,{to:s.contacts.website,children:"website"}),s.contacts.vk&&(0,p.jsx)(d.k2,{to:s.contacts.vk,children:"vk"}),s.contacts.twitter&&(0,p.jsx)(d.k2,{to:s.contacts.twitter,children:"twitter"}),s.contacts.instagram&&(0,p.jsx)(d.k2,{to:s.contacts.instagram,children:"instagram"}),s.contacts.youtube&&(0,p.jsx)(d.k2,{to:s.contacts.youtube,children:"youtube"}),s.contacts.github&&(0,p.jsx)(d.k2,{to:s.contacts.github,children:"github"}),s.contacts.mainLink&&(0,p.jsx)(d.k2,{to:s.contacts.mainLink,children:"mainLink"})]})}),(0,p.jsx)(x,{status:e,updateStatus:a}),"ava + description"]})]}):(0,p.jsx)(u.A,{})};var j=e(302),_=e(892),f=e(899);const g=f.Ik().shape({newPostText:f.Yj().min(2,"Must be longer than 2 characters").max(100,"Must be shorter than 100 characters").required("Required")}),v="MyPosts_postsBlock__7hfib",b="MyPosts_textarea__l32Cp",P="MyPosts_posts__ivALQ",k="MyPosts_error__txC3s",w="MyPosts_errorTextarea__HB9Lt",S="Post_post__w07l4",y="Post_like__j2aSZ",N=t=>(0,p.jsxs)("div",{className:S,children:[(0,p.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS6GiWyv4yUzOhaPY4U_qqmI6BfuzrnLtOQMA&s"}),t.message,(0,p.jsx)("div",{className:y,children:(0,p.jsxs)("span",{children:[(0,p.jsx)("img",{src:"https://uxwing.com/wp-content/themes/uxwing/download/brands-and-social-media/blue-like-button-icon.png",alt:""}),t.likes]})})]}),M=a.memo((t=>{let s=[...t.postData].reverse().map((t=>(0,p.jsx)(N,{message:t.message,likes:t.likesCount},t.id)));return(0,p.jsxs)("div",{className:v,children:[(0,p.jsx)("h3",{children:"My posts"}),(0,p.jsx)(A,{onSubmit:s=>{t.addPost(s.newPostText)}}),(0,p.jsx)("div",{className:P,children:s})]})})),A=t=>(0,p.jsx)(_.l1,{initialValues:{newPostText:""},onSubmit:(s,e)=>{let{resetForm:a}=e;t.onSubmit(s),a()},validationSchema:g,children:t=>{let{errors:s,touched:e}=t;return(0,p.jsxs)(_.lV,{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(_.D0,{name:"newPostText",as:"textarea",placeholder:"Enter text",className:`${b} ${s.newPostText&&e.newPostText?w:""}`}),(0,p.jsx)(_.Kw,{name:"newPostText",component:"div",className:k})]}),(0,p.jsx)("div",{children:(0,p.jsx)("button",{type:"submit",children:"Add post"})})]})}}),I=M;var C=e(3);const T=(0,C.Ng)((t=>({postData:t.profilePage.postData,newPostText:t.profilePage.newPostText})),(t=>({addPost:s=>{t((0,j.oL)(s))}})))(I),L=t=>(0,p.jsxs)("div",{children:[(0,p.jsx)(m,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,p.jsx)(T,{})]});var B=e(216);e(207);const q=(0,e(923).Zz)((0,C.Ng)((t=>({profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth})),{getUserProfile:j.VM,getStatus:j.BS,updateStatus:j.yB}))((t=>{const{userId:s}=(0,B.g)();return(0,a.useEffect)((()=>{s||(s=(void 0).props.authorizedUserId),t.getUserProfile(s),t.getStatus(s)}),[s]),(0,p.jsx)("div",{children:(0,p.jsx)(L,{...t,profile:t.profile,status:t.status,updateStatus:t.updateStatus})})}))},207:(t,s,e)=>{e.d(s,{A:()=>c});var a=e(43),o=e(3),r=e(216),i=e(579);let n=t=>({isAuth:t.auth.isAuth});const c=t=>{class s extends a.Component{render(){return this.props.isAuth?(0,i.jsx)(t,{...this.props}):(0,i.jsx)(r.C5,{to:"/login"})}}return(0,o.Ng)(n)(s)}}}]);
//# sourceMappingURL=36.686886b9.chunk.js.map